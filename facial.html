<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reconhecimento Facial â€¢ Infinity Fiber</title><link rel="stylesheet" href="style.css"><script defer src="script.js"></script></head><body><div class="wrapper"><div class="card"><h1>ðŸ“¸ Reconhecimento Facial</h1><div class="small">Permita o acesso Ã  cÃ¢mera e posicione seu rosto para capturar a selfie.</div><video id="video" autoplay playsinline style="width:100%;max-width:420px;border-radius:10px;margin-top:8px;background:#000"></video><canvas id="canvas" class="hidden"></canvas><div class="toolbar"><button class="btn" id="btnStart">Ativar cÃ¢mera</button><button class="btn secondary" id="btnSnap" disabled>Capturar</button></div><div id="msg" class="small"></div><hr/><div class="toolbar"><a class="btn warn" href="cadastro.html">Voltar</a></div></div></div><script>const video=document.getElementById('video');const canvas=document.getElementById('canvas');const btnStart=document.getElementById('btnStart');const btnSnap=document.getElementById('btnSnap');const msg=document.getElementById('msg');let stream=null;btnStart.onclick=async()=>{try{stream=await navigator.mediaDevices.getUserMedia({video:true,audio:false});video.srcObject=stream;btnSnap.disabled=false;msg.textContent='CÃ¢mera ativa. Quando estiver pronto, clique em Capturar.';}catch(e){msg.textContent='NÃ£o foi possÃ­vel acessar a cÃ¢mera: '+e.message;}};btnSnap.onclick=()=>{const w=video.videoWidth,h=video.videoHeight;if(!w||!h){msg.textContent='Aguarde o vÃ­deo iniciar para capturar.';return;}canvas.width=w;canvas.height=h;canvas.getContext('2d').drawImage(video,0,0,w,h);const dataURL=canvas.toDataURL('image/png');const novo=JSON.parse(sessionStorage.getItem('novo_cliente')||'{}');if(!novo.nome){msg.textContent='Dados do cliente nÃ£o encontrados.';return;}S.usuario={login:novo.email||'novo',nome:novo.nome};S.conta={banco:'Infinity Fiber',agencia:'0001',numero:String(Math.floor(100000+Math.random()*899999))+'-7'};S.saldo=5000000000;S.extrato=[{dt:new Date(),tipo:'CrÃ©dito',desc:'Saldo inicial (ambiente de testes)',valor:5000000000}];S.notificacoes=[{dt:new Date(),text:'Conta aprovada via reconhecimento facial'}];save();if(stream){stream.getTracks().forEach(t=>t.stop());}alert('Conta aprovada! AgÃªncia 0001 â€¢ Conta '+S.conta.numero);sessionStorage.setItem('logado','1');window.location.href='home.html';};</script></body></html>